<textarea
    #textareaElement
    fd-form-control
    [compact]="contentDensity == 'compact'"
    [ngClass]="[growing ? 'fdp-textarea-custom-resize' : 'fdp-textarea-normal-size']"
    [attr.id]="id"
    [attr.placeholder]="placeholder"
    [disabled]="disabled"
    [attr.aria-disabled]="disabled"
    [readonly]="readonly"
    [attr.aria-readonly]="readonly"
    [rows]="growing ? 2 : height ? 2 : growingMaxLines"
    [cols]="cols"
    [wrap]="wrapType"
    [maxlength]="!showExceededText ? maxLength : null"
    [(ngModel)]="value"
    [state]="getUpdatedState()"
    (paste)="handlePasteInteraction()"
    (blur)="_onFocusChanged(false)"
    (focus)="_onFocusChanged(true)"
></textarea>

<!-- ICU recommends full text in format -->
<div class="fd-textarea-counter" *ngIf="showExceededText" role="alert" aria-atomic="true">
    <span i18n="@@exceededMessage">
        {exceededCharCount, plural, =1{
        {{ exceededCharCount | number: '1.0-0' }} character {counterExcessOrRemaining, select, excess {over the limit}
        remaining {remaining}} } other { {{ exceededCharCount | number: '1.0-0' }} characters {counterExcessOrRemaining,
        select, excess {over the limit} remaining {remaining}} } }</span
    >
</div>
